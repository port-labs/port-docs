<details>
<summary><b>Integration configuration (click to expand)</b></summary>

:::note Control Stage Fetching
To prevent overwhelming your Ocean instance with potentially thousands of stages from Jenkins, the integration requires you to specify a specific job. This ensures that Ocean only retrieves stages related to that job, keeping things focused and efficient.

**Important**: The integration will also fetch stages from all nested jobs within the specified job.
:::

```yaml showLineNumbers
- kind: stage
  selector:
    query: 'true'
    # Example jobUrl - replace with your own Jenkins job URL
    jobUrl: http://your-jenkins-server/job/your-project/job/your-job
  port:
    entity:
      mappings:
        identifier: >-
          ._links.self.href  | sub("^.*?/"; "") | gsub("%20"; "-") |
          gsub("%252F"; "-") | gsub("/"; "-")
        title: .name
        blueprint: '"jenkinsStage"'
        properties:
          status: .status
          startTimeMillis: .startTimeMillis
          durationMillis: .durationMillis
          stageUrl: env.OCEAN__INTEGRATION__CONFIG__JENKINS_HOST  + ._links.self.href
        relations:
          parentBuild: >-
            ._links.self.href | sub("/execution/node/[0-9]+/wfapi/describe$";
            "") | sub("^.*?/"; "") | gsub("%20"; "-") | gsub("%252F"; "-") |
            gsub("/"; "-")
# Additional stage configurations follow the same pattern.
- kind: stage
  selector:
    query: 'true'
    # Example jobUrl - replace with your own Jenkins job URL
    jobUrl: http://your-jenkins-server/job/your-project/job/another-job
  port:
    entity:
      mappings:
        identifier: >-
          ._links.self.href  | sub("^.*?/"; "") | gsub("%20"; "-") |
          gsub("%252F"; "-") | gsub("/"; "-")
        title: .name
        blueprint: '"jenkinsStage"'
        properties:
          status: .status
          startTimeMillis: .startTimeMillis
          durationMillis: .durationMillis
          stageUrl: env.OCEAN__INTEGRATION__CONFIG__JENKINS_HOST  + ._links.self.href
        relations:
          parentBuild: >-
            ._links.self.href | sub("/execution/node/[0-9]+/wfapi/describe$";
            "") | sub("^.*?/"; "") | gsub("%20"; "-") | gsub("%252F"; "-") |
            gsub("/"; "-")
- kind: stage
  selector:
    query: 'true'
    # Example jobUrl - replace with your own Jenkins job URL
    jobUrl: http://your-jenkins-server/job/your-project/job/third-job
  port:
    entity:
      mappings:
        identifier: >-
          ._links.self.href  | sub("^.*?/"; "") | gsub("%20"; "-") |
          gsub("%252F"; "-") | gsub("/"; "-")
        title: .name
        blueprint: '"jenkinsStage"'
        properties:
          status: .status
          startTimeMillis: .startTimeMillis
          durationMillis: .durationMillis
          stageUrl: env.OCEAN__INTEGRATION__CONFIG__JENKINS_HOST  + ._links.self.href
        relations:
          parentBuild: >-
            ._links.self.href | sub("/execution/node/[0-9]+/wfapi/describe$";
            "") | sub("^.*?/"; "") | gsub("%20"; "-") | gsub("%252F"; "-") |
            gsub("/"; "-")
```
</details>